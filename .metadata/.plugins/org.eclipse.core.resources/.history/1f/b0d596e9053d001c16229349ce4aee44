package dao;

import java.sql.Connection;
import java.sql.PreparedStatement;

import com.fiap.ifood.jdbc.ConnectionDB;

import bean.Restaurant;

public class RestaurantDAO {
	
	private Connection connection;
    
    public void insert(Restaurant restaurant) {
      PreparedStatement stmt = null;
      
          try {
            connection = ConnectionDB.obtainConnection();
            String sql = "INSERT INTO RESTAURANTE(CD_RESTAURANTE, NM_RESTAURANTE, VL_PEDIDO_MIN) VALUES (SQ_RESTAURANTE.NEXTVAL, ?, ?)";
            stmt = connection.prepareStatement(sql);
            stmt.setString(1, weight.getName());
            java.sql.Date date = new java.sql.Date(weight.getDate().getTimeInMillis());
            stmt.setDate(2, date);
      
            stmt.executeUpdate();
          } catch (SQLException e) {
            e.printStackTrace();
          } finally {
            try {
              stmt.close();
              connection.close();
            } catch (SQLException e) {
              e.printStackTrace();
            }
          }
        }
}
